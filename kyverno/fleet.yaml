defaultNamespace: kyverno

labels:
  kyverno: operator

helm:
  releaseName: kyverno
  repo: https://kyverno.github.io/kyverno
  chart: kyverno
  values:
    admissionController:
      rbac:
        clusterRole:
          extraResources:
            - apiGroups:
                - management.cattle.io
              resources:
                - users
                - fleetworkspaces
                - globalroles
                - globalrolebindings
              verbs:
                - create
                - get
                - list
                - update
                - delete
                - patch
                - watch
          # - apiGroups:
          #     - '*'
          #   resources:
          #     - '*'
          #   verbs:
          #     - '*'
          # - nonResourceURLs:
          #     - '*'
          #   verbs:
          #     - '*'
          extraRules:
            - apiGroups:
                - management.cattle.io
              resources:
                - fleetworkspaces
                - globalroles
                - globalrolebindings
              verbs:
                - "*"
          # - apiGroups:
          #     - '*'
          #   resources:
          #     - '*'
          #   verbs:
          #     - '*'
          # - nonResourceURLs:
          #     - '*'
          #   verbs:
          #     - '*'
      replicas: 1
    backgroundController:
      rbac:
        clusterRole:
          extraResources:
            - apiGroups:
                - "*"
              resources:
                - "*"
              verbs:
                - "*"
            - nonResourceURLs:
                - "*"
              verbs:
                - "*"
            - apiGroups:
                - management.cattle.io
              resources:
                - users
                - fleetworkspaces
                - globalroles
                - globalrolebindings
              verbs:
                - get
                - create
                - update
                - delete
                - patch
                - list
                - watch
      replicas: 1
    cleanupController:
      rbac:
        clusterRole:
          extraResources:
            - apiGroups:
                - management.cattle.io
              resources:
                - globalrolebindings
                - globalroles
              verbs:
                - "*"
      replicas: 1
    reportsController:
      replicas: 1
