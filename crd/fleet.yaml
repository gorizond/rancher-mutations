defaultNamespace: default

dependsOn:
  - selector:
      matchLabels:
        kyverno: operator

helm:
  chart: ./
  values:
    domain: ${ if hasKey .ClusterAnnotations "gorizond.domain" }${ get .ClusterAnnotations "gorizond.domain" }${ else }gorizond.cluster${ end }
    postgres:
      k3s:
        hostname: ${ if hasKey .ClusterAnnotations "gorizond.postgres.k3s.hostname" }${ get .ClusterAnnotations "gorizond.postgres.k3s.hostname" }${ else }postgres${ end }
        port: ${ if hasKey .ClusterAnnotations "gorizond.postgres.k3s.port" }${ get .ClusterAnnotations "gorizond.postgres.k3s.port" }${ else }5432${ end }
      hs:
        hostname: ${ if hasKey .ClusterAnnotations "gorizond.postgres.hs.hostname" }${ get .ClusterAnnotations "gorizond.postgres.hs.hostname" }${ else }postgres${ end }
        port: ${ if hasKey .ClusterAnnotations "gorizond.postgres.hs.port" }${ get .ClusterAnnotations "gorizond.postgres.hs.port" }${ else }5432${ end }